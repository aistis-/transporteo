digraph workflow {
  ratio="compress" rankdir="LR"
  node [fontsize="9" fontname="Arial" color="#333333" fillcolor="lightblue" fixedsize="1" width="1"];
  edge [fontsize="9" fontname="Arial" color="#333333" arrowhead="normal" arrowsize="0.5"];

  place_ready [label="ready", shape=circle, style="filled"];
  place_source_pim_location_guessed [label="source_pim_location_guessed", shape=circle];
  place_source_pim_configured [label="source_pim_configured", shape=circle];
  place_source_pim_detected [label="source_pim_detected", shape=circle];
  place_ee_access_pending [label="ee_access_pending", shape=circle];
  place_all_accesses_granted [label="all_accesses_granted", shape=circle];
  transition_ask_source_pim_location [label="ask_source_pim_location", shape=box, shape="box", regular="1"];
  transition_local_source_pim_configuration [label="local_source_pim_configuration", shape=box, shape="box", regular="1"];
  transition_distant_source_pim_configuration [label="distant_source_pim_configuration", shape=box, shape="box", regular="1"];
  transition_source_pim_detection [label="source_pim_detection", shape=box, shape="box", regular="1"];
  transition_grant_all_accesses [label="grant_all_accesses", shape=box, shape="box", regular="1"];
  transition_ee_ask_an_ssh_key [label="ee_ask_an_ssh_key", shape=box, shape="box", regular="1"];
  transition_grant_ee_accesses [label="grant_ee_accesses", shape=box, shape="box", regular="1"];
  place_ready -> transition_ask_source_pim_location [style="solid"];
  transition_ask_source_pim_location -> place_source_pim_location_guessed [style="solid"];
  place_source_pim_location_guessed -> transition_local_source_pim_configuration [style="solid"];
  transition_local_source_pim_configuration -> place_source_pim_configured [style="solid"];
  place_source_pim_location_guessed -> transition_distant_source_pim_configuration [style="solid"];
  transition_distant_source_pim_configuration -> place_source_pim_configured [style="solid"];
  place_source_pim_configured -> transition_source_pim_detection [style="solid"];
  transition_source_pim_detection -> place_source_pim_detected [style="solid"];
  place_source_pim_detected -> transition_grant_all_accesses [style="solid"];
  transition_grant_all_accesses -> place_all_accesses_granted [style="solid"];
  place_source_pim_detected -> transition_ee_ask_an_ssh_key [style="solid"];
  transition_ee_ask_an_ssh_key -> place_ee_access_pending [style="solid"];
  place_ee_access_pending -> transition_grant_ee_accesses [style="solid"];
  transition_grant_ee_accesses -> place_all_accesses_granted [style="solid"];
}
